!function(n){var o={};function r(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=n,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";var o=d(n(2)),r=d(n(4)),i=d(n(8)),s=d(n(9)),c=d(n(11)),u=d(n(13)),a=d(n(15)),l=d(n(18));function d(e){return e&&e.__esModule?e:{default:e}}window.onload=function(){"/collabs/"!==window.location.pathname&&"/collabs"!==window.location.pathname||(0,o.default)(),"/admin/contest/"!==window.location.pathname&&"/admin/contest"!==window.location.pathname||(0,r.default)(),"/admin/roles/"!==window.location.pathname&&"/admin/roles"!==window.location.pathname||(0,s.default)(),"/admin/contest/submissions"!==window.location.pathname&&"/admin/contest/submissions/"!==window.location.pathname||(0,i.default)(),"/contest/"!==window.location.pathname&&"/contest"!==window.location.pathname||(0,c.default)(),"/contest/vote/"!==window.location.pathname&&"/contest/vote"!==window.location.pathname||(0,u.default)(),"/contest/judge/"!==window.location.pathname&&"/contest/judge"!==window.location.pathname||(0,a.default)(),"/contest/results/"!==window.location.pathname&&"/contest/results"!==window.location.pathname||(0,l.default)()},window.onclick=function(e){if(null!==document.querySelector("#adminDropdown")&&!e.target.matches(".dropbtn")){var t=document.getElementById("adminDropdown");t.classList.contains("show")&&t.classList.remove("show")}},window.onscroll=function(){null!==document.querySelector("#backToTop")&&(200<document.body.scrollTop||200<document.documentElement.scrollTop?document.getElementById("backToTop").style.display="block":document.getElementById("backToTop").style.display="none")},null!==document.querySelector("#adminPanel")&&document.querySelector("#adminPanel").addEventListener("click",function(e){document.getElementById("adminDropdown").classList.toggle("show")})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(3);(o=r)&&o.__esModule;t.default=function(){document.querySelector("#collabsDiv").innerHTML="<h1>Page Currently Under Construction!</h1>"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();var r=function(){function c(e,t,n,o,r,i,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),this._Name=e,this._personaname=t,this._avatarfull=n,this._collab_role_assoc_ID=o,this._collab_role=r,this._comment=i,this._CreatedDate=s}return o(c,[{key:"unassignedRoleDiv",value:function(){var e="";return e+='<div class="unassignedRole" data-collab_role_assoc_ID="'+this._collab_role_assoc_ID+'">',e+='<span class="Name">'+this._Name+"</span>",e+='<span class="personaname">'+this._personaname+'<img src="'+this._avatarfull+'" alt="Steam Profile Picture" /></span>',e+='<span class="collab_role">'+this._collab_role+"</span>",e+='<span class="comment">'+this._comment+"</span>",e+='<span class="CreatedDate">'+this._CreatedDate+"</span>",e+='<input class="btn_apply_role" type="button" value="submit" />',e+="</div>"}},{key:"Name",set:function(e){this._Name=e},get:function(){return this._Name}},{key:"personaname",set:function(e){this._personaname=e},get:function(){return this._personaname}},{key:"avatarfull",set:function(e){this._avatarfull=e},get:function(){return this._avatarfull}},{key:"collab_role_assoc_ID",set:function(e){this._collab_role_assoc_ID=e},get:function(){return this._collab_role_assoc_ID}},{key:"collab_role",set:function(e){this._collab_role=e},get:function(){return this._collab_role}},{key:"comment",set:function(e){this._comment=e},get:function(){return this._comment}},{key:"CreatedDate",set:function(e){this._CreatedDate=e},get:function(){return this._CreatedDate}}]),c}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(n(5)),r=s(n(6)),i=s(n(7));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){fetch("/api/contest/names/all",{credentials:"include"}).then(function(e){return e.json()}).then(function(e){e[0].forEach(function(e){var t=new o.default(e.contest_ID,e.Name).getContestOption();document.querySelector("#contestNameDropdown").appendChild(t)})}).catch(function(e){console.error(e)}),fetch("/api/contest/rules/",{credentials:"include"}).then(function(e){return e.json()}).then(function(e){e[0].forEach(function(e){var t=new r.default(e.contest_rule_ID,e.rule).getRuleOption();document.querySelector("#ruleNameDropdown").appendChild(t),document.querySelector("#contestRulesDropdown").appendChild(t.cloneNode(!0))})}).catch(function(e){console.error(e)}),fetch("/api/contest/criteria/",{credentials:"include"}).then(function(e){return e.json()}).then(function(e){e[0].forEach(function(e){var t=new i.default(e.contest_criteria_ID,e.contest_criteria).getCriteriaOption();document.querySelector("#criteriaNameDropdown").appendChild(t),document.querySelector("#contestCriteriaDropdown").appendChild(t.cloneNode(!0))})}).catch(function(e){console.error(e)}),-1!==document.URL.indexOf("result=success")&&(document.querySelector("#showErrorSuccess").innerHTML='<h1 class="success-notification">Contest updated successfully.</h1>'),document.querySelector("#contestNameDropdown").addEventListener("change",function(c){"0"!==c.target.value?fetch("/api/contest/all/"+c.target.value,{credentials:"include"}).then(function(e){return e.json()}).then(function(e){var t=e[0][0],n=new Date(t.SubmissionStartDate.toString());n.setHours(n.getHours()-0);var o=new Date(t.SubmissionEndDate.toString());o.setHours(o.getHours()-0);var r=new Date(t.VoteStartDate.toString());r.setHours(r.getHours()-0);var i=new Date(t.VoteEndDate.toString());i.setHours(i.getHours()-0),document.querySelector("#contestName").value=t.Name,document.querySelector("#contestSubmissionStart").value=n.toISOString().replace("Z",""),document.querySelector("#contestSubmissionEnd").value=o.toISOString().replace("Z",""),document.querySelector("#contestVoteStart").value=r.toISOString().replace("Z",""),document.querySelector("#contestVoteEnd").value=i.toISOString().replace("Z",""),document.querySelector("#contestDescription").value=t.Description,document.querySelector("#createEditContestHeader").textContent="Edit Contest",document.querySelector("#submitContest").value="Edit Contest",document.querySelector("#contestActive").checked=!!t.Active.data[0],document.querySelector("#contestActive").disabled=!1,document.querySelector("#contestJudged").checked=!!t.Judged.data[0],document.querySelector("#contestJudged").disabled=!1,document.querySelector("#contestRulesDropdown").disabled=!1,document.querySelector("#contestCriteriaDropdown").disabled=!1,fetch("/api/contest/rules/"+c.target.value,{credentials:"include"}).then(function(e){return e.json()}).then(function(e){var n=e[0];null!==n&&document.querySelector("#contestRulesDropdown").childNodes.forEach(function(t){n.forEach(function(e){t.value!=e.contest_rule_ID||(t.selected=!0)})})}).catch(function(e){return console.error(e)});var s={contest_ID:c.target.value};fetch("/api/contest/criteria/contestid",{credentials:"include",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)}).then(function(e){return e.json()}).then(function(e){var n=e[0];null!==n&&document.querySelector("#contestCriteriaDropdown").childNodes.forEach(function(t){n.forEach(function(e){t.value!=e.contest_criteria_ID||(t.selected=!0)})})}).catch(function(e){return console.error(e)})}).catch(function(e){console.error(e)}):(document.querySelector("#createEditContestHeader").textContent="Create Contest",document.querySelector("#submitContest").value="Create Contest",document.querySelector("#contestActive").checked=!0,document.querySelector("#contestActive").disabled=!0,document.querySelector("#contestJudged").checked=!0,document.querySelector("#contestJudged").disabled=!0,document.querySelector("#contestRulesDropdown").disabled=!0,document.querySelector("#contestCriteriaDropdown").disabled=!0)}),document.querySelector("#ruleNameDropdown").addEventListener("change",function(e){"0"!==e.target.value?(document.querySelector("#createEditRuleHeader").textContent="Edit Rule",document.querySelector("#submitRule").value="Edit Rule",document.querySelector("#contestRule").value=document.querySelector("#ruleNameDropdown").selectedOptions[0].text):(document.querySelector("#createEditRuleHeader").textContent="Create Rule",document.querySelector("#submitRule").value="Create Rule")}),document.querySelector("#criteriaNameDropdown").addEventListener("change",function(e){if("0"!==e.target.value){var t={contest_criteria_ID:e.target.value};fetch("/api/contest/criteria/id",{credentials:"include",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){document.querySelector("#contestCriteriaDescription").value=e[0][0].contest_criteria_description,document.querySelector("#contestCriteriaWeight").value=e[0][0].contest_criteria_weight}).catch(function(e){return console.error(e)}),document.querySelector("#createEditCriteriaHeader").textContent="Edit Criteria",document.querySelector("#submitCriteria").value="Edit Criteria",document.querySelector("#contestCriteria").value=document.querySelector("#criteriaNameDropdown").selectedOptions[0].text}else document.querySelector("#createEditCriteriaHeader").textContent="Create Criteria",document.querySelector("#submitCriteria").value="Create Criteria"})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();var r=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._contest_ID=e,this._Name=t}return o(n,[{key:"getContestOption",value:function(){var e=document.createElement("OPTION");e.value=this._contest_ID;var t=document.createTextNode(this._Name);return e.appendChild(t),e}},{key:"contest_ID",set:function(e){this._contest_ID=e},get:function(){return this._contest_ID}},{key:"Name",set:function(e){this._Name=e},get:function(){return this._Name}}]),n}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();var r=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._contest_rule_ID=e,this._rule=t}return o(n,[{key:"getRuleOption",value:function(){var e=document.createElement("OPTION");e.value=this._contest_rule_ID;var t=document.createTextNode(this._rule);return e.appendChild(t),e}},{key:"contest_rule_ID",set:function(e){this._contest_rule_ID=e},get:function(){return this._contest_rule_ID}},{key:"rule",set:function(e){this._rule=e},get:function(){return this._rule}}]),n}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();var r=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._contest_criteria_ID=e,this._contest_criteria=t}return o(n,[{key:"getCriteriaOption",value:function(){var e=document.createElement("OPTION");e.value=this._contest_criteria_ID;var t=document.createTextNode(this._contest_criteria);return e.appendChild(t),e}},{key:"contest_criteria",set:function(e){this._contest_criteria=e},get:function(){return this._contest_criteria}},{key:"contest_criteria_ID",set:function(e){this._contest_criteria_ID=e},get:function(){return this._contest_criteria_ID}}]),n}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){console.log("cool")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(10),i=(o=r)&&o.__esModule?o:{default:o};t.default=function(){function r(){fetch("/admin/roles/judges/all",{credentials:"include"}).then(function(e){return e.json()}).then(function(e){document.querySelector("#removeJudgeDropdown").innerHTML="",void 0!==e[0]&&e[0].forEach(function(e){var t=new i.default(e.SteamID,e.personaname).getUserOption();t.setAttribute("class","removeJudgeOption"),document.querySelector("#removeJudgeDropdown").appendChild(t)})}).catch(function(e){console.error(e)})}r(),document.querySelector("#searchUsers").addEventListener("input",function(e){var t={search:e.target.value.trim().toLowerCase()};fetch("/admin/roles/judges",{credentials:"include",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){document.querySelector("#addJudgeDropdown").innerHTML="",void 0!==e[0]&&e[0].forEach(function(e){var t=new i.default(e.SteamID,e.personaname);document.querySelector("#addJudgeDropdown").appendChild(t.getUserOption())})}).catch(function(e){console.error(e)})}),document.querySelector("#submitJudges").addEventListener("click",function(e){if(document.querySelector("#addJudgeForm").checkValidity()){e.preventDefault();var t={steamid:document.querySelector("#addJudgeDropdown").value};fetch("/admin/roles/add/judge",{credentials:"include",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){console.log(e),"Success"===e.result&&(r(),document.querySelector("#showErrorSuccess").innerHTML='<h1 class="success-notification">Judge added successfully.</h1>',setTimeout(function(){document.querySelector("#showErrorSuccess").innerHTML=""},1e4))}).catch(function(e){console.error(e)})}}),document.querySelector("#removeJudges").addEventListener("click",function(e){if(document.querySelector("#removeJudgeForm").checkValidity()){e.preventDefault();var t=document.querySelectorAll(".removeJudgeOption"),n=[];t.forEach(function(e){e.selected&&n.push(e.value)});var o={steamid:n};fetch("/admin/roles/remove/judges",{credentials:"include",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)}).then(function(e){return e.json()}).then(function(e){"Success"===e.result&&(r(),document.querySelector("#showErrorSuccess").innerHTML='<h1 class="success-notification">Judge removed successfully.</h1>',setTimeout(function(){document.querySelector("#showErrorSuccess").innerHTML=""},1e4))}).catch(function(e){console.error(e)})}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();var r=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._SteamID=e,this._personaname=t}return o(n,[{key:"getUserOption",value:function(){var e=document.createElement("OPTION");e.value=this._SteamID;var t=document.createTextNode(this._personaname);return e.appendChild(t),e}},{key:"SteamID",set:function(e){this._SteamID=e},get:function(){return this._SteamID}},{key:"personaname",set:function(e){this._personaname=e},get:function(){return this._personaname}}]),n}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(12),i=(o=r)&&o.__esModule?o:{default:o};t.default=function(){fetch("/api/contest/all/active",{credentials:"include"}).then(function(e){return e.json()}).then(function(e){if(void 0===e[0][0])return{};var t=new Date(e[0][0].SubmissionStartDate);t.setHours(t.getHours()-0);var n=new Date(e[0][0].SubmissionEndDate);n.setHours(n.getHours()-0);var o=new Date(e[0][0].VoteStartDate);o.setHours(o.getHours()-0);var r=new Date(e[0][0].VoteEndDate);return r.setHours(r.getHours()-0),new i.default(e[0][0].contest_ID,e[0][0].Name,t,n,o,r,e[0][0].Description,null)}).then(function(t){t.hasOwnProperty("_contest_ID")?fetch("/api/contest/submission/check/"+t.contest_ID,{credentials:"include"}).then(function(e){return e.json()}).then(function(e){t.submitted=e.submitted}).then(function(){fetch("/api/contest/rules/"+t.contest_ID,{credentials:"include"}).then(function(e){return e.json()}).then(function(e){t.rules=e[0],document.querySelector("#activeContest").innerHTML=t.activeContestDiv(),document.querySelector("#submitEntrySection").innerHTML=t.entryOrVote(),document.querySelector("#contestIDHidden").value=t.contest_ID}).catch(function(e){return console.error(e)})}).catch(function(e){return console.error(e)}):(document.querySelector("#activeContest").innerHTML='<h2>You\'re in luck, the next contest begins soon!<br>Be sure to check out Twitch for live updates regarding future contest announcements, judging results, and more!</h2><a href="https://www.twitch.tv/r3ddragons" target="_blank"><img id="twitchImg" src="img/twitch_purple_combo.svg"></a>',document.querySelector("#submitEntrySection").innerHTML='<form action="/contest/results/" method="get" class="contestVotingForm"><input type="submit" alt="Go To Judging Page" value="See Contest Results"></form>')}).catch(function(e){return console.error(e)}),-1!==document.URL.indexOf("result=subsuccess")?document.querySelector("#showErrorSuccess").innerHTML='<h1 class="success-notification">Contest entry successfully submitted. Thank you for participating in the contest!</h1>':-1!==document.URL.indexOf("result=badurl")?document.querySelector("#showErrorSuccess").innerHTML='<h1 class="error-notification">The workshop link entered is not a valid workshop link. Please fix any issues with the link and try submitting again.</h1>':-1!==document.URL.indexOf("result=noterms")?document.querySelector("#showErrorSuccess").innerHTML='<h1 class="error-notification">You must agree to the terms of the contest by ticking the box at the bottom of the page. Failure to agree to the terms will result in your submission not being entered.</h1>':-1!==document.URL.indexOf("result=votesuccess")?document.querySelector("#showErrorSuccess").innerHTML='<h1 class="success-notification">Your contest votes have been successfully submitted. Thank you for participating in the voting process!</h1>':-1!==document.URL.indexOf("result=votefail")?document.querySelector("#showErrorSuccess").innerHTML='<h1 class="error-notification">Oops! Something went wrong with your voting selections. Please visit the voting page and try again.</h1>':-1!==document.URL.indexOf("result=voteduplicate")&&(document.querySelector("#showErrorSuccess").innerHTML='<h1 class="error-notification">You cannot vote for the same submission more than once. Please visit the voting page and try again.</h1>')}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();var r=function(){function a(e,t,n,o,r,i,s,c,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this._contest_ID=e,this._Name=t,this._SubmissionStartDate=n,this._SubmissionEndDate=o,this._VoteStartDate=r,this._VoteEndDate=i,this._Description=s,this._rules=c,this._submitted=u}return o(a,[{key:"activeContestDiv",value:function(){var t="";return t+='<div class="contest-banner-container">',t+='<div class="Name"><h1>'+this._Name+"</h1></div>",t+="<br>",t+='<div class="sml-container">',t+='<span class="SubmissionStartDate"><h2>Start</h2>'+this._SubmissionStartDate.toLocaleString()+"</span>",t+='<span class="SubmissionEndDate"><h2>End</h2>'+this._SubmissionEndDate.toLocaleString()+"</span>",t+="</div>",t+="<br>",t+='<div class="sml-container">',t+='<span class="VoteStartDate"><h2>Vote Start</h2>'+this._VoteStartDate.toLocaleString()+"</span>",t+='<span class="VoteEndDate"><h2>Vote End</h2>'+this._VoteEndDate.toLocaleString()+"</span>",t+="</div>",t+="</div>",t+="<br>",t+='<div class="Description"><h2>Summary</h2>'+this._Description+"</div>",t+="<br>",t+="<h1>Rules</h1>",t+='<div id="rulesDiv">',null!==this._rules&&this._rules.forEach(function(e){t+='<div class="rule">&bull; '+e.rule+"</div>"}),t+="</div>",t+="<br>"}},{key:"entryOrVote",value:function(){if(this.VoteStartDate<Date.now()){return'<form action="/contest/vote/" method="get" class="contestVotingForm">','<input type="hidden" id="contestIDHidden" name="contestID">','<input type="submit" alt="Go To Voting Page" value="Vote On Contest">',"</form>",'<form action="/contest/vote/" method="get" class="contestVotingForm"><input type="hidden" id="contestIDHidden" name="contestID"><input type="submit" alt="Go To Voting Page" value="Vote On Contest"></form>'}if(1!==this.submitted&&this.SubmissionEndDate>Date.now()){return'<h2 id="submissionHeader">Contest Entry</h2>','<form action="/api/contest/submit/" method="post" class="contestSubmissionForm">','<input type="hidden" id="contestIDHidden" name="contestID">','<input type="url" id="submissionURL" name="submissionURL" placeholder="https://steamcommunity.com/sharedfiles/filedetails/?id=XXXXXXXXXX" required/>',"<br>","<br>","<span>",'<input type="checkbox" id="verifySubmissionCB" name="verifySubmissionCB" required> By ticking this box and clicking the button("Submit Entry"), I agree and acknowledge that this is my own work'," and is associated with this Steam&#174; account. Violating these terms will result in the immediate and irrevocable termination of my privileges on this website.<br>","<br>",'<input type="submit" id="submitContestUser" alt="Submit To Contest" value="Submit Entry">',"</span>","</form>",'<h2 id="submissionHeader">Contest Entry</h2><form action="/api/contest/submit/" method="post" class="contestSubmissionForm"><input type="hidden" id="contestIDHidden" name="contestID"><input type="url" id="submissionURL" name="submissionURL" placeholder="https://steamcommunity.com/sharedfiles/filedetails/?id=XXXXXXXXXX" required/><br><br><span><input type="checkbox" id="verifySubmissionCB" name="verifySubmissionCB" required> By ticking this box and clicking the button("Submit Entry"), I agree and acknowledge that this is my own work and is associated with this Steam&#174; account. Violating these terms will result in the immediate and irrevocable termination of my privileges on this website.<br><br><input type="submit" id="submitContestUser" alt="Submit To Contest" value="Submit Entry"></span></form>'}if(1===this.submitted&&this.SubmissionEndDate>Date.now()){return'<h2 id="submissionHeader" class="success-notification">Awesome!<br>We have your submission!</h2>','<input type="hidden" id="contestIDHidden" name="contestID">','<h2 id="submissionHeader" class="success-notification">Awesome!<br>We have your submission!</h2><input type="hidden" id="contestIDHidden" name="contestID">'}if(this.SubmissionEndDate<Date.now()&&this.VoteStartDate>Date.now()){var e="";e+='<input type="hidden" id="contestIDHidden" name="contestID">';var t=Math.round((this.VoteStartDate.getTime()-Date.now())/1e3/60/60);return 0<t?t+=" hour(s)":t=Math.round((this.VoteStartDate.getTime()-Date.now())/1e3/60)+" minute(s)",e+='<h2 id="submissionHeader">Community voting for this contest will begin in '+t+".<br>Be sure to check out the stream to see all the contest submissions before the voting goes live!</h2>",e+='<a href="https://www.twitch.tv/r3ddragons" target="_blank"><img src="img/twitch_purple_combo.svg"></a>'}}},{key:"Name",set:function(e){this._Name=e},get:function(){return this._Name}},{key:"contest_ID",set:function(e){this._contest_ID=e},get:function(){return this._contest_ID}},{key:"SubmissionStartDate",set:function(e){this._SubmissionStartDate=e},get:function(){return this._SubmissionStartDate}},{key:"SubmissionEndDate",set:function(e){this._SubmissionEndDate=e},get:function(){return this._SubmissionEndDate}},{key:"VoteStartDate",set:function(e){this._VoteStartDate=e},get:function(){return this._VoteStartDate}},{key:"VoteEndDate",set:function(e){this._VoteEndDate=e},get:function(){return this._VoteEndDate}},{key:"Description",set:function(e){this._Description=e},get:function(){return this._Description}},{key:"rules",set:function(e){this._rules=e},get:function(){return this._rules}},{key:"submitted",set:function(e){this._submitted=e},get:function(){return this._submitted}}]),a}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(14),i=(o=r)&&o.__esModule?o:{default:o};t.default=function(){fetch("/api/contest/submissions",{credentials:"include"}).then(function(e){return e.json()}).then(function(e){if(void 0!==e[0][0]){var t=e[0],r="<h1>Submissions</h1>";t.forEach(function(e){var t=new i.default(e.contest_submission_ID,e.workshop_URL,e.personaname,e.avatarfull);r+=t.getSubmissionDiv();var n=t.getSubmissionOption(),o=document.querySelector("#firstPick");o.appendChild(n),document.querySelector("#secondPick").appendChild(n.cloneNode(!0)),document.querySelector("#secondPick").selectedIndex=Math.floor(Math.random()*Math.floor(o.length)),document.querySelector("#thirdPick").appendChild(n.cloneNode(!0)),document.querySelector("#thirdPick").selectedIndex=Math.floor(Math.random()*Math.floor(o.length)),document.querySelector("#fourthPick").appendChild(n.cloneNode(!0)),document.querySelector("#fourthPick").selectedIndex=Math.floor(Math.random()*Math.floor(o.length)),document.querySelector("#fifthPick").appendChild(n.cloneNode(!0)),document.querySelector("#fifthPick").selectedIndex=Math.floor(Math.random()*Math.floor(o.length))}),document.querySelector("#contestIDHidden").value=e[0][0].contest_ID,document.querySelector("#contestSubmissionContainer").innerHTML=r}}).catch(function(e){return console.error(e)}),document.querySelectorAll(".jump-to-icon").forEach(function(e){e.addEventListener("click",function(e){var t="#contestSubmission"+document.querySelector("#"+e.target.id.toString().replace("Btn","")).value;document.querySelector(t).scrollIntoView()})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();var r=function(){function r(e,t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this._contest_submission_ID=e,this._workshop_URL=t,this._personaname=n,this._avatarfull=o}return o(r,[{key:"getSubmissionDiv",value:function(){var e="";return e+='<div class="contest-submission" id="contestSubmission'+this._contest_submission_ID+'">',e+='<span class="steaminfo"><img src="'+this._avatarfull+'" class="submission-avatar" />&nbsp;'+this._personaname+"</span>",e+="<br>",e+='<a href="'+this._workshop_URL+'" target="_blank" class="contest-submission-url">Submission Link</a>',e+="</div>"}},{key:"getSubmissionOption",value:function(){var e=document.createElement("OPTION");e.value=this._contest_submission_ID;var t=document.createTextNode(this._personaname);return e.appendChild(t),e}},{key:"contest_submission_ID",set:function(e){this._contest_submission_ID=e},get:function(){return this._contest_submission_ID}},{key:"workshop_URL",set:function(e){this._workshop_URL=e},get:function(){return this._workshop_URL}},{key:"personaname",set:function(e){this._personaname=e},get:function(){return this._personaname}},{key:"avatarfull",set:function(e){this._avatarfull=e},get:function(){return this._avatarfull}}]),r}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(16)),i=o(n(17));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(){null!==document.querySelector("#judgeTable")&&fetch("/api/contest/judge/criteria",{credentials:"include"}).then(function(e){return e.json()}).then(function(e){var t=document.createElement("TR");t.setAttribute("ID","tableHeaders"),document.querySelector("#judgeTable").appendChild(t),t=document.createElement("TH");var n=document.createTextNode("ID");t.appendChild(n),document.querySelector("#tableHeaders").appendChild(t);var o=[];return e[0].forEach(function(e){var t=new r.default(e.contest_criteria,e.contest_criteria_assoc_ID,e.contest_criteria_description);o.push(e.contest_criteria_assoc_ID),document.querySelector("#contestIDHidden").value=e.contest_ID,document.querySelector("#tableHeaders").appendChild(t.getTableHeader()),document.querySelector("#judgingRubric").appendChild(t.getListItem())}),{criteriaList:o}}).then(function(r){fetch("/api/contest/judge/topsubs",{credentials:"include"}).then(function(e){return e.json()}).then(function(e){var t=[];e[0].forEach(function(e){t.push(e.contest_submission_ID)});var n=new i.default(t,r.criteriaList);document.querySelector("#judgeTable").appendChild(n.getSubmissionTR());var o=document.createElement("INPUT");o.setAttribute("id","submitScores"),o.setAttribute("type","submit"),o.setAttribute("value","Submit Scores"),document.querySelector("#submitBtnContainer").appendChild(o),document.querySelector("#submitScores").addEventListener("click",function(e){if(document.querySelector("#judgeSubmitForm").checkValidity()){e.preventDefault();var t={contestID:document.querySelector("#contestIDHidden").value,contest_submission_ID:document.querySelector("#judgeSubmissionID").value};r.criteriaList.forEach(function(e){t["contestCriteria_"+e]=document.querySelector("#contestCriteria_"+e).value}),fetch("/api/contest/judge/submit",{credentials:"include",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){"Success"===e.result?document.querySelector("#showErrorSuccess").innerHTML='<h1 class="success-notification">Scores successfully recorded for submission ID #'+t.contest_submission_ID+"</h1>":document.querySelector("#showErrorSuccess").innerHTML='<h1 class="error-notification">Error recording scores for submission ID #'+t.contest_submission_ID+"</h1>",setTimeout(function(){document.querySelector("#showErrorSuccess").innerHTML=""},1e4)}).catch(function(e){return console.error(e)})}})}).catch(function(e){return console.error(e)})}).catch(function(e){return console.error(e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();var o=function(){function o(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this._contest_criteria=e,this._contest_criteria_assoc_ID=t,this._contest_criteria_description=n}return r(o,[{key:"getTableHeader",value:function(){var e=document.createElement("TH"),t=document.createTextNode(this._contest_criteria);return e.appendChild(t),e}},{key:"getListItem",value:function(){var e=document.createElement("LI"),t=document.createTextNode(this._contest_criteria_description);return e.appendChild(t),e}},{key:"contest_criteria",set:function(e){this._contest_criteria=e},get:function(){return this._contest_criteria}},{key:"contest_criteria_assoc_ID",set:function(e){this._contest_criteria_assoc_ID=e},get:function(){return this._contest_criteria_assoc_ID}},{key:"contest_criteria_description",set:function(e){this._contest_criteria_description=e},get:function(){return this._contest_criteria_description}}]),o}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();var r=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._contest_submission_IDs=e,this._criteriaList=t}return o(n,[{key:"getSubmissionTR",value:function(){var e=document.createElement("TR"),t=document.createElement("TD"),o=document.createElement("SELECT");o.setAttribute("id","judgeSubmissionID"),o.setAttribute("name","contest_submission_ID"),this._contest_submission_IDs.forEach(function(e){var t=document.createElement("OPTION"),n=document.createTextNode(e);t.appendChild(n),o.appendChild(t)}),t.appendChild(o),e.appendChild(t);for(var n=0;n<this._criteriaList.length;n++){t=document.createElement("TD");var r=document.createElement("INPUT");r.setAttribute("id","contestCriteria_"+this._criteriaList[n]),r.setAttribute("type","number"),r.setAttribute("step","1"),r.setAttribute("min","1"),r.setAttribute("max","10"),r.setAttribute("value","5"),r.required=!0,t.appendChild(r),e.appendChild(t)}return e}},{key:"contest_submission_IDs",set:function(e){this._contest_submission_IDs=e},get:function(){return this._contest_submission_IDs}},{key:"criteriaList",set:function(e){this._criteriaList=e},get:function(){return this._criteriaList}}]),n}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(19),i=(o=r)&&o.__esModule?o:{default:o};t.default=function(){fetch("/api/contest/voters/judged",{credentials:"include"}).then(function(e){return e.json()}).then(function(e){return 0!==e[0][0].voters?e[0][0]:{}}).then(function(r){fetch("/api/contest/judged/scores",{credentials:"include"}).then(function(e){return e.json()}).then(function(t){"undefined"!==t[0]&&(["Steam User","Submission Link","Judges Scores","Community Votes","Total Score"].forEach(function(e){var t=document.createElement("TH"),n=document.createTextNode(e);t.appendChild(n),document.querySelector("#contestResultsTable").appendChild(t)}),fetch("/api/contest/judge/topsubs",{credentials:"include"}).then(function(e){return e.json()}).then(function(e){var o=[];t[0].forEach(function(t){var n={};e[0].forEach(function(e){e.contest_submission_ID===t.contest_submission_ID&&(n=new i.default(t.contest_submission_ID,e.total,r.voters,t.judges_max,t.judges_total,t.personaname,t.avatarfull,t.workshop_URL),o.push(n))})}),o.sort(function(e,t){return e.finalScore>t.finalScore?-1:1}).forEach(function(e){var t=e.getResultTR();document.querySelector("#contestResultsTable").appendChild(t)})}).catch(function(e){console.error(e)}))}).catch(function(e){console.error(e)})}).catch(function(e){console.error(e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();var r=function(){function u(e,t,n,o,r,i,s,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),this._contestSubmissionID=e,this._votersActual=t,this._votersMax=n,this._judgesMax=o,this._judgesActual=r,this._workshop_URL=c,this._personaname=i,this._avatarfull=s,this._finalScore=Math.round(100*(parseInt(this._judgesActual,10)*(parseInt(this._votersMax,10)/parseInt(this._judgesMax,10))+parseInt(this._votersActual,10)))/100}return o(u,[{key:"getResultTR",value:function(){var e=document.createElement("TR"),t=document.createElement("TD");return t.innerHTML='<span><img src="'+this._avatarfull+'"/>'+this._personaname+"</span>",e.appendChild(t),(t=document.createElement("TD")).innerHTML='<a href="'+this._workshop_URL+'" target="_BLANK">Workshop Link</a>',e.appendChild(t),(t=document.createElement("TD")).innerHTML=this._judgesActual,e.appendChild(t),(t=document.createElement("TD")).innerHTML=this._votersActual,e.appendChild(t),(t=document.createElement("TD")).innerHTML=this._finalScore,e.appendChild(t),e}},{key:"contestSubmissionID",set:function(e){this._contestSubmissionID=e},get:function(){return this._contestSubmissionID}},{key:"votersActual",set:function(e){this._votersActual=e},get:function(){return this._votersActual}},{key:"votersMax",set:function(e){this._votersMax=e},get:function(){return this._votersMax}},{key:"judgeMax",set:function(e){this._judgesMax=e},get:function(){return this._judgesMax}},{key:"actualVotes",set:function(e){this._actualVotes=e},get:function(){return this._actualVotes}},{key:"judgesActual",set:function(e){this._judgesActual=e},get:function(){return this._judgesActual}},{key:"workshop_URL",set:function(e){this._workshop_URL=e},get:function(){return this._workshop_URL}},{key:"personaname",set:function(e){this._personaname=e},get:function(){return this._personaname}},{key:"avatarfull",set:function(e){this._avatarfull=e},get:function(){return this._avatarfull}},{key:"finalScore",set:function(e){this._finalScore=e},get:function(){return this._finalScore}}]),u}();t.default=r}]);